<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Innovating through Biology for Real-World Impact</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://placehold.co/1200x600/2c3e50/ffffff?text=Biology+Lab');
            background-size: cover;
            background-position: center;
        }
        .icon-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .icon-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        #gemini-modal.hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header & Navigation -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-teal-600 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-teal-500" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 2a.75.75 0 01.75.75v1.25a.75.75 0 01-1.5 0V2.75A.75.75 0 0110 2zM5.47 5.47a.75.75 0 011.06 0L7.59 6.53a.75.75 0 11-1.06 1.06L5.47 6.53a.75.75 0 010-1.06zM2 10a.75.75 0 01.75-.75h1.25a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm12.47-4.53a.75.75 0 010 1.06l-1.06 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zM10 18a.75.75 0 01-.75-.75v-1.25a.75.75 0 011.5 0v1.25A.75.75 0 0110 18zm4.53-5.47a.75.75 0 01-1.06 0l-1.06-1.06a.75.75 0 011.06-1.06l1.06 1.06a.75.75 0 010 1.06zM18 10a.75.75 0 01-.75.75h-1.25a.75.75 0 010-1.5h1.25A.75.75 0 0118 10zm-5.47 4.53a.75.75 0 010-1.06l1.06-1.06a.75.75 0 111.06 1.06l-1.06 1.06a.75.75 0 01-1.06 0z" clip-rule="evenodd" />
                    <path d="M10 4.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM8 10a2 2 0 114 0 2 2 0 01-4 0z" />
                </svg>
                BioInnovate
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#modules" class="text-gray-600 hover:text-teal-600 transition">Modules</a>
                <a href="#projects" class="text-gray-600 hover:text-teal-600 transition">Projects</a>
                <a href="#about" class="text-gray-600 hover:text-teal-600 transition">About Us</a>
                <a href="#enroll" class="text-gray-600 hover:text-teal-600 transition">Enroll</a>
            </div>
            <a href="#enroll" class="hidden md:block bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition">
                APPLY NOW
            </a>
            <button id="mobile-menu-button" class="md:hidden text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2">
            <a href="#modules" class="block text-gray-600 hover:text-teal-600 transition">Modules</a>
            <a href="#projects" class="block text-gray-600 hover:text-teal-600 transition">Projects</a>
            <a href="#about" class="block text-gray-600 hover:text-teal-600 transition">About Us</a>
            <a href="#enroll" class="block text-gray-600 hover:text-teal-600 transition">Enroll</a>
            <a href="#enroll" class="block bg-teal-500 hover:bg-teal-600 text-white text-center font-bold py-2 px-4 rounded-lg transition mt-2">
                APPLY NOW
            </a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero-section text-white py-24">
            <div class="container mx-auto text-center px-6">
                <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4">Innovating through Biology for Real-World Impact</h1>
                <p class="text-lg md:text-2xl mb-8">Empowering futures through biological discovery</p>
                <div class="flex justify-center space-x-4">
                    <a href="#modules" class="bg-white text-teal-600 font-bold py-3 px-6 rounded-lg hover:bg-gray-200 transition">EXPLORE MODULES</a>
                    <a href="#projects" class="bg-transparent border-2 border-white text-white font-bold py-3 px-6 rounded-lg hover:bg-white hover:text-teal-600 transition">SEE STUDENT PROJECTS</a>
                </div>
            </div>
        </section>

        <!-- Course Theme Section -->
        <section id="theme" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4">COURSE THEME</h2>
                <div class="w-24 h-1 bg-teal-500 mx-auto mb-6"></div>
                <p class="max-w-3xl mx-auto text-lg text-gray-600">
                    Empowering students to apply biological knowledge and skills to address local and global challenges through project-based learning and inquiry. This innovative course engages students in solving real-world problems, developing critical thinking as they explore how biology intersects with social, environmental, and health challenges.
                </p>
            </div>
        </section>

        <!-- Course Units Section -->
        <section id="modules" class="py-20">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-12">COURSE UNITS</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
                    <!-- Unit Card 1: Food Justice -->
                    <div class="icon-card bg-white p-6 rounded-lg shadow-lg text-center">
                        <div class="mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-green-500" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 2a8 8 0 100 16 8 8 0 000-16zM5 10a1 1 0 011-1h1V7a1 1 0 112 0v2h2v-1a1 1 0 112 0v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1H9v2a1 1 0 11-2 0v-2H6a1 1 0 01-1-1z" />
                                <path d="M7 6a2 2 0 10-4 0 2 2 0 004 0zM17 6a2 2 0 10-4 0 2 2 0 004 0z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Food Justice</h3>
                        <p class="text-gray-600">Cultivating Tomorrow: Biology and Food Justice.</p>
                    </div>
                    <!-- Unit Card 2: Global Health -->
                    <div class="icon-card bg-white p-6 rounded-lg shadow-lg text-center">
                        <div class="mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.72 7.97 5 9.5 5c.425 0 .858.069 1.264.201L12.06 3.661a1.5 1.5 0 012.121.21l.06.06a1.5 1.5 0 01.21 2.121L13.15 7.42C13.562 8.163 14 9.073 14 10c0 1.53-1.27 3.238-3.168 4.218C9.231 15.17 7.51 15.5 6 15.5c-1.51 0-2.88-.33-3.668-.973l1.912-1.912a2.986 2.986 0 003.425.435 2.986 2.986 0 002.435-3.425l-2.706-1.912a6.012 6.012 0 01-1.636-3.078z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Global Health</h3>
                        <p class="text-gray-600">Community Immunity: Biology and Global Health.</p>
                    </div>
                    <!-- Unit Card 3: Environmental Engineering -->
                    <div class="icon-card bg-white p-6 rounded-lg shadow-lg text-center">
                        <div class="mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-cyan-500" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Environmental Engineering</h3>
                        <p class="text-gray-600">Applying ecology to address environmental challenges.</p>
                    </div>
                    <!-- Unit Card 4: Biomimetic Systems -->
                    <div class="icon-card bg-white p-6 rounded-lg shadow-lg text-center">
                        <div class="mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-indigo-500" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                                <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.27 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Biomimetic Systems</h3>
                        <p class="text-gray-600">NeuroNature: Designing systems inspired by brain and genetics.</p>
                    </div>
                    <!-- Unit Card 5: Health Equity -->
                    <div class="icon-card bg-white p-6 rounded-lg shadow-lg text-center">
                        <div class="mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-red-500" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Health Equity</h3>
                        <p class="text-gray-600">Biology and Community Resilience.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Detailed Units Section -->
        <section id="projects" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-12">Unit Details & Final Projects</h2>
                
                <!-- Unit 1 Detail -->
                <div class="mb-12 bg-gray-50 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4 text-green-600">Unit 1: Cultivating Tomorrow: Biology and Food Justice</h3>
                    <p class="mb-4 text-gray-600">Explore the biological principles of sustainable agriculture and food production while examining issues of food justice. Learn about plant biology, genetics, and ecological relationships in agricultural systems.</p>
                    <h4 class="font-semibold text-lg mb-2">Key Concepts:</h4>
                    <ul class="list-disc list-inside mb-4 text-gray-600">
                        <li>Plant physiology and growth requirements</li>
                        <li>Genetics and crop improvement</li>
                        <li>Sustainable agricultural practices</li>
                        <li>Food security and distribution challenges</li>
                    </ul>
                    <h4 class="font-semibold text-lg mb-2">Final Project:</h4>
                    <p class="text-gray-600">Design and implement a small-scale sustainable food production system (e.g., vertical garden, hydroponic system) addressing a specific food justice issue in your community.</p>
                    <button class="generate-ideas-btn mt-4 bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center" data-unit-title="Cultivating Tomorrow: Biology and Food Justice" data-unit-desc="Explore the biological principles of sustainable agriculture and food production while examining issues of food justice. Learn about plant biology, genetics, and ecological relationships in agricultural systems.">
                        ✨ Generate Project Ideas
                    </button>
                </div>

                <!-- Unit 2 Detail -->
                <div class="mb-12 bg-gray-50 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4 text-blue-600">Unit 2: Community Immunity: Biology and Global Health</h3>
                    <p class="mb-4 text-gray-600">This unit focuses on the biology of disease transmission, immunity, and public health interventions, informing global health initiatives and community resilience.</p>
                    <h4 class="font-semibold text-lg mb-2">Key Concepts:</h4>
                    <ul class="list-disc list-inside mb-4 text-gray-600">
                        <li>Microbiology and pathogen biology</li>
                        <li>Immune system function and vaccination</li>
                        <li>Disease transmission and epidemiology</li>
                        <li>Health disparities and access to healthcare</li>
                    </ul>
                    <h4 class="font-semibold text-lg mb-2">Final Project:</h4>
                    <p class="text-gray-600">Develop a public health campaign for a community or global health challenge, incorporating accurate biological information and evidence-based interventions.</p>
                    <button class="generate-ideas-btn mt-4 bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center" data-unit-title="Community Immunity: Biology and Global Health" data-unit-desc="This unit focuses on the biology of disease transmission, immunity, and public health interventions, informing global health initiatives and community resilience.">
                        ✨ Generate Project Ideas
                    </button>
                </div>
                
                <!-- Unit 3 Detail -->
                <div class="mb-12 bg-gray-50 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4 text-cyan-600">Unit 3: Environmental Engineers</h3>
                    <p class="mb-4 text-gray-600">Apply principles of ecology and environmental biology to address environmental challenges. Learn about ecosystem dynamics, biodiversity, and how biological systems can inspire solutions.</p>
                    <h4 class="font-semibold text-lg mb-2">Key Concepts:</h4>
                    <ul class="list-disc list-inside mb-4 text-gray-600">
                        <li>Ecosystem structure and function</li>
                        <li>Biodiversity and conservation biology</li>
                        <li>Pollution and bioremediation</li>
                        <li>Climate change impacts on biological systems</li>
                    </ul>
                    <h4 class="font-semibold text-lg mb-2">Final Project:</h4>
                    <p class="text-gray-600">Design and test a biologically-inspired solution to an environmental challenge (e.g., bioremediation system, conservation plan), documenting the biological principles applied.</p>
                    <button class="generate-ideas-btn mt-4 bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center" data-unit-title="Environmental Engineers" data-unit-desc="Apply principles of ecology and environmental biology to address environmental challenges. Learn about ecosystem dynamics, biodiversity, and how biological systems can inspire solutions.">
                       ✨ Generate Project Ideas
                    </button>
                </div>
                
                <!-- Unit 4 Detail -->
                <div class="mb-12 bg-gray-50 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4 text-indigo-600">Unit 4: NeuroNature: Designing Biomimetic Systems</h3>
                    <p class="mb-4 text-gray-600">Explore how biological systems, particularly the brain and genetic mechanisms, can inspire innovative technologies and solutions. Learn neurobiology, genetics, and biomimicry principles.</p>
                    <h4 class="font-semibold text-lg mb-2">Key Concepts:</h4>
                    <ul class="list-disc list-inside mb-4 text-gray-600">
                        <li>Neural structure and function</li>
                        <li>Genetic information processing</li>
                        <li>Biomimicry principles and applications</li>
                        <li>Ethical considerations in biotechnology</li>
                    </ul>
                    <h4 class="font-semibold text-lg mb-2">Final Project:</h4>
                    <p class="text-gray-600">Design a prototype or conceptual model of a biomimetic system inspired by neural or genetic principles that addresses a specific human need or challenge.</p>
                    <button class="generate-ideas-btn mt-4 bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center" data-unit-title="NeuroNature: Designing Biomimetic Systems" data-unit-desc="Explore how biological systems, particularly the brain and genetic mechanisms, can inspire innovative technologies and solutions. Learn neurobiology, genetics, and biomimicry principles.">
                        ✨ Generate Project Ideas
                    </button>
                </div>
                
                <!-- Unit 5 Detail -->
                <div class="mb-12 bg-gray-50 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4 text-red-600">Unit 5: Health Equity: Biology and Community Resilience</h3>
                    <p class="mb-4 text-gray-600">Examine how biological factors interact with social determinants to influence health outcomes. Explore health equity, community resilience, and strategies to address disparities.</p>
                    <h4 class="font-semibold text-lg mb-2">Key Concepts:</h4>
                    <ul class="list-disc list-inside mb-4 text-gray-600">
                        <li>Social determinants of health</li>
                        <li>Biological basis of health disparities</li>
                        <li>Environmental health and exposure biology</li>
                        <li>Community-based health interventions</li>
                    </ul>
                    <h4 class="font-semibold text-lg mb-2">Final Project:</h4>
                    <p class="text-gray-600">Conduct a community health assessment on a specific health disparity, then develop a biologically-informed intervention strategy to promote health equity.</p>
                    <button class="generate-ideas-btn mt-4 bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center" data-unit-title="Health Equity: Biology and Community Resilience" data-unit-desc="Examine how biological factors interact with social determinants to influence health outcomes. Explore health equity, community resilience, and strategies to address disparities.">
                       ✨ Generate Project Ideas
                    </button>
                </div>
                
                <!-- Optional Project -->
                <div class="bg-gray-50 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4 text-gray-700">Optional: Biomimicry Project</h3>
                    <p class="mb-4 text-gray-600">This extended project allows students to apply knowledge from all units to develop a comprehensive biomimicry solution to a local problem, engaging in deeper research, design, and testing.</p>
                     <h4 class="font-semibold text-lg mb-2">Project Components:</h4>
                    <ul class="list-disc list-inside mb-4 text-gray-600">
                        <li>Problem identification and research</li>
                        <li>Biological model selection and analysis</li>
                        <li>Solution design and prototyping</li>
                        <li>Testing and iteration</li>
                    </ul>
                    <h4 class="font-semibold text-lg mb-2">Expected Outcomes:</h4>
                    <p class="text-gray-600">Produce a detailed project portfolio and present work to community stakeholders for feedback on real-world application.</p>
                    <button class="generate-ideas-btn mt-4 bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center" data-unit-title="Biomimicry Project" data-unit-desc="Apply knowledge from across all units to develop a comprehensive biomimicry solution to a local problem. Engage in deeper research, design, and testing of the solution over an extended period.">
                        ✨ Generate Project Ideas
                    </button>
                </div>
            </div>
        </section>

        <!-- About/Learning Approach Section -->
        <section id="about" class="py-20">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-12">Learning Approach</h2>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div>
                        <h3 class="text-2xl font-semibold mb-4">Project-Based Learning</h3>
                        <p class="text-gray-600 mb-4">Each unit is structured around a central project addressing a real-world challenge. Students work individually and in teams to research, design, implement, and evaluate solutions to complex problems.</p>
                        <h3 class="text-2xl font-semibold mb-4">Benefits of Hands-On Experience</h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-2">
                            <li>Deeper understanding of biological concepts</li>
                            <li>Development of scientific inquiry and research skills</li>
                            <li>Cultivation of problem-solving abilities</li>
                            <li>Experience with iterative scientific investigation</li>
                        </ul>
                    </div>
                    <div>
                        <img src="https://placehold.co/600x400/a7f3d0/333333?text=Students+Collaborating" alt="Students collaborating on a project" class="rounded-lg shadow-lg">
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Enrollment and Contact Section -->
        <section id="enroll" class="py-20 bg-teal-700 text-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4">Ready to Innovate?</h2>
                <p class="text-lg mb-8">Register now for Fall 2025 and join us in solving global challenges through biology.</p>
                <div class="max-w-4xl mx-auto bg-white text-gray-800 rounded-lg shadow-xl p-8 text-left">
                    <h3 class="text-2xl font-bold mb-6 text-center">Contact & Enrollment Information</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-bold text-lg mb-2">Enrollment</h4>
                            <p>For more information about enrolling, please contact your school's guidance counselor or the science department chair.</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg mb-2">Course Instructor</h4>
                            <p><strong>Name:</strong> [Instructor Name]</p>
                            <p><strong>Email:</strong> [instructor.email@school.edu]</p>
                            <p><strong>Office Hours:</strong> [Days and Times]</p>
                        </div>
                         <div>
                            <h4 class="font-bold text-lg mb-2">Department Contact</h4>
                            <p><strong>Science Dept. Chair:</strong> [Name]</p>
                            <p><strong>Email:</strong> [department.chair@school.edu]</p>
                            <p><strong>Phone:</strong> [Phone Number]</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg mb-2">Course Materials</h4>
                            <p>All required materials will be provided. Students are encouraged to bring a notebook or digital device for notes and project work.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 Innovating through Biology. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Gemini Project Idea Modal -->
    <div id="gemini-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col">
            <div class="p-4 border-b flex justify-between items-center">
                <h3 id="modal-title" class="text-xl font-bold text-gray-800">Project Ideas</h3>
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div id="modal-content" class="p-6 overflow-y-auto">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>


    <script>
        // --- Mobile Menu Toggle ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // --- Gemini API Integration ---
        const modal = document.getElementById('gemini-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const generateIdeaButtons = document.querySelectorAll('.generate-ideas-btn');

        // Function to open the modal
        const openModal = () => modal.classList.remove('hidden');
        
        // Function to close the modal
        const closeModal = () => modal.classList.add('hidden');

        // Close modal listeners
        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });

        // Add event listeners to all generate buttons
        generateIdeaButtons.forEach(button => {
            button.addEventListener('click', async () => {
                const unitTitle = button.dataset.unitTitle;
                const unitDesc = button.dataset.unitDesc;
                
                modalTitle.innerText = `Project Ideas for: ${unitTitle}`;
                modalContent.innerHTML = `<div class="flex justify-center items-center h-48">
                    <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-teal-500"></div>
                    <p class="ml-4 text-gray-600">Generating creative ideas...</p>
                </div>`;
                openModal();
                
                await generateProjectIdeas(unitTitle, unitDesc);
            });
        });

        /**
         * Calls the Gemini API to generate project ideas.
         * @param {string} unitTitle The title of the course unit.
         * @param {string} unitDesc The description of the course unit.
         */
        async function generateProjectIdeas(unitTitle, unitDesc) {
            const apiKey = ""; // API key is automatically managed by the environment.
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const systemPrompt = `You are a creative and helpful biology curriculum assistant for a high school course called 'Innovating through Biology for Real-World Impact'. Your goal is to inspire students with engaging, hands-on final project ideas that connect biology to real-world challenges.`;
            
            const userQuery = `For the course unit titled "${unitTitle}", which is about "${unitDesc}", please generate 3 distinct final project ideas.
            
            For each idea:
            1.  Give it a catchy title.
            2.  Write a short, engaging paragraph describing the project.
            3.  Ensure the project is suitable for high school students and focuses on hands-on, inquiry-based learning.

            Format the entire response as clean HTML. Use <h4> for each project title and <p> for its description. Do not include any other HTML tags like <html>, <body>, or <head>.`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };
            
            let retries = 3;
            let delay = 1000;
            let response = null;

            while (retries > 0) {
                try {
                    const res = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (res.ok) {
                        response = await res.json();
                        break; // Success, exit loop
                    } else {
                        throw new Error(`HTTP error! status: ${res.status}`);
                    }
                } catch (error) {
                    console.error('API call failed, retrying...', error);
                    retries--;
                    if (retries === 0) {
                        modalContent.innerHTML = `<p class="text-red-500">Sorry, we couldn't generate project ideas at this moment. Please try again later.</p>`;
                        return;
                    }
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2; // Exponential backoff
                }
            }
            
            try {
                const text = response.candidates[0].content.parts[0].text;
                modalContent.innerHTML = text;
            } catch (error) {
                console.error("Error parsing Gemini response:", error);
                modalContent.innerHTML = `<p class="text-red-500">There was an issue displaying the generated ideas. Please check the console for details.</p>`;
            }
        }
    </script>
</body>
</html>

